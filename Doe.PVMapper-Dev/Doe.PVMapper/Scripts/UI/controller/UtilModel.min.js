var Ext,configStore,UtilityModel;typeof Ext=="undefined"&&(Ext=Ext||{}),Ext.define("MyApp.data.UtilConfig",{extend:"Ext.data.Model",fields:[{name:"functionName",type:"string"},{name:"minValue",type:"float"},{name:"maxValue",type:"float"},{name:"increment",type:"float"},{name:"target",type:"float"},{name:"slope",type:"float"},{name:"mode",type:"string"},{name:"weight",type:"int"},{name:"UserId",type:"string"}],idProperty:"functionName"}),typeof Ext.data.JsonStore=="undefined"&&Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(n){n=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},n),this.callParent([n])}}),configStore=Ext.Create("Ext.data.JsonStore",{model:"MyApp.data.UtilConfig",autoLoad:!1,autoSave:!1,root:"data",idProperty:"id",proxy:{type:"ajax",url:"../api/Properties"}}),function(n){var u=function(){function n(n,t){this.functionName=n,this.functionPtr=t}return n}(),r=function(){function n(){this._dictionary={}}return n.prototype.indexOf=function(n){for(var t in this._dictionary)if(n(t)==!0)return t},n.prototype.add=function(n,t){this._dictionary[n]=t},n.prototype.remove=function(n){n in this._dictionary&&delete this._dictionary[n]},n.prototype.clear=function(){delete this._dictionary,this._dictionary={}},n.prototype.valueOf=function(n){return n in this._dictionary?this._dictionary[n]:null},n}(),i=function(){function n(){this.fDict=new r,configStore.load()}return n.prototype.loadConfig=function(n){return configStore.data==null&&configStore.load(),configStore.findRecord("functionName",n)},n.prototype.getConfiguration=function(n){return this.loadConfig(n)},n.prototype.setConfiguration=function(n,t){var r=!1,i=configStore.findRecord("functionName",n);i||(r=!0,i=Ext.create("MyApp.data.UtilConfig")),i.data.functionName=t.data.functionName,i.data.minValue=t.data.minValue,i.data.maxValue=t.data.maxValue,i.data.increment=t.data.increment,i.data.target=t.data.target,i.data.slope=t.data.slope,i.data.mode=t.data.mode,i.data.weight=t.data.weight,i.data.UserId=t.data.UserId,r&&configStore.add(i),configStore.save()},n.prototype.setFunction=function(n,t){this.fDict.add(n,t)},n.prototype.getFunction=function(n){var t=this.fDict.valueOf(n);return t?t.functionPtr:null},n.prototype.executeFunction=function(n){for(var r=[],i,t=0;t<arguments.length-1;t++)r[t]=arguments[t+1];return i=this.fDict.valueOf(n),i?(currentConfig=i,i.functionPtr(r)):null},n}(),t;n.UtilModel=i,t=new i,t.setFunction("More is better",UtilityFunctions.MoreIsBetter),t.setFunction("Less is better",UtilityFunctions.LessIsBetter),t.setFunction("Normal",UtilityFunctions.NDBalance)}(UtilityModel||(UtilityModel={}))