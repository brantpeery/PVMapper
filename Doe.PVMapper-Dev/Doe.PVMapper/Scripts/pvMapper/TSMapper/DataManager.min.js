var pvMapper;(function(n){var i,t,r;typeof i=="undefined",t=function(){function n(){}return n}(),n.SiteData=t,r=function(){function r(){}return r.prototype.postScore=function(n,t,r,u){$.post("/api/SiteScore",{score:n,rank:t,siteId:r,toolId:u},function(){var n=i.getCmp("scoreboard-grid-id");n.store.load(),n.getView().refresh()})},r.prototype.getSite=function(n){return $.get("/api/ProjectSite/"+n)},r.prototype.postSite=function(n,t,i){return $.post("/api/ProjectSite",{name:n,description:t,isActive:!0,polygonGeometry:i})},r.prototype.updateSite=function(i,r,u,f){var e=new t;return e.id=i,e.isActive=!0,r&&(e.name=r),u&&(e.description=u),f&&(e.polygon=f),$.ajax("/api/ProjectSite",{data:e,type:"PUT",done:function(){n.displayMessage("The site changes were saved","Info")},fail:function(){n.displayMessage("Unable to save the changes to the site. There was an error communicating with the database.","Warning")}})},r.prototype.deleteSite=function(t){return $.ajax("/api/ProjectSite/"+t,{data:{Id:t,type:"DELETE",done:function(){n.displayMessage("The site was deleted from the database.","Warning")},fail:function(){n.displayMessage("Unable to delete the site. There was an error communicating with the database.","warning")}}})},r}(),n.dataManager=r})(pvMapper||(pvMapper={}))