var pvMapper;(function(n){var t=function(){function t(){this.siteAdded=new n.Event,this.siteRemoved=new n.Event,this.siteLoaded=new n.Event,this.sites=[]}return t.prototype.getSites=function(){return this.sites},t.prototype.getSite=function(n){return this.sites[n]},t.prototype.addSite=function(n){this.sites.push(n),this.siteAdded.fire(n,n)},t.prototype.loadSite=function(n){this.sites.push(n),this.siteAdded.fire(n,n)},t.prototype.createSite=function(t){console&&console.log("Creating site");var i=new n.Site(t);this.sites.push(i),this.siteAdded.fire(i,t)},t.prototype.removeSite=function(n){var t=this.sites.indexOf(n);t!==-1&&(this.sites.splice(t,1),this.siteRemoved.fire(undefined,n))},t.prototype.removeSiteById=function(n){for(var i,t=0;t<this.sites.length;t++)if(this.sites[t].id==n)break;t<this.sites.length&&(i=this.sites.splice(t,1)[0],this.siteRemoved.fire(undefined,i))},t.prototype.featureChangedHandler=function(n){console&&console.log("Feature change detected by the site manager"),n.feature&&n.feature.site?(n.feature.site.changeEvent.fire(n.feature.site,n),console&&console.log("Fired the change event for site: "+n.feature.site.name)):console&&console.log("The feature was not a site")},t}();n.SiteManager=t,n.siteManager=new t})(pvMapper||(pvMapper={}))