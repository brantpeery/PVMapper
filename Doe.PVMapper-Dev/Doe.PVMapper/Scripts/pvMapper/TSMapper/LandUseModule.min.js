var INLModules;(function(n){function s(){t=new OpenLayers.Layer.WMS("Protected Areas",f,{maxExtent:o,layers:"0",layer_type:"polygon",transparent:"true",format:"image/gif",exceptions:"application/vnd.ogc.se_inimage",maxResolution:156543.0339,srs:"EPSG:102113"},{isBaseLayer:!1}),t.epsgOverride="EPSG:102113",t.setOpacity(.3),t.setVisibility(!1),pvMapper.map.addLayer(t)}function h(){pvMapper.map.removeLayer(t,!1)}function i(n){var t={mapExtent:n.site.geometry.bounds.toBBOX(6,!1),geometryType:"esriGeometryEnvelope",geometry:n.site.geometry.bounds.toBBOX(6,!1),f:"json",layers:"0",tolerance:0,imageDisplay:"1, 1, 96",returnGeometry:!1},i=OpenLayers.Request.GET({url:e+"identify",proxy:"/Proxy/proxy.ashx?",params:t,callback:function(t){var o,i,r,u,f,e;if(t.status===200)if(o=new OpenLayers.Format.JSON,o.extractAttributes=!0,i=o.read(t.responseText),i.results.length>0){for(r="",u=null,f=0;f<i.results.length;f++)e=i.results[f].attributes["Owner Name"],e!=u&&(u!=null&&(r+=", \n"),r+=e),u=e;n.popupMessage=r,n.updateValue(i.results.length)}else n.popupMessage="None",n.updateValue(0);else n.popupMessage="Connection error "+t.status,n.updateValue(Number.NaN)}})}var u=function(){function n(){var n=new pvMapper.Module({id:"FederalLandsModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){s()},deactivate:function(){h()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Protected Areas",description:"Display Federal Lands use boundaries.",onScoreAdded:function(){},onSiteChange:function(n,t){i(t)},updateScoreCallback:function(n){i(n)}}],infoTools:null})}return n}(),r,c;n.FederalLandsModule=u;var l=new n.FederalLandsModule,f="http://dingo.gapanalysisprogram.com/ArcGIS/services/PADUS/PADUS_owner/MapServer/WMSServer",e="http://dingo.gapanalysisprogram.com/ArcGIS/rest/services/PADUS/PADUS_owner/MapServer/",t,o=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34);r=function(){function n(){var n=this,t,i;this.landBounds=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34),t="http://dingo.gapanalysisprogram.com/ArcGIS/services/NAT_LC/1_NVC_class_landuse/MapServer/WMSServer",i=new pvMapper.Module({id:"CitiesTownsModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){n.addWMSLayerMap("Land Use",t,"EPSG:102113")},deactivate:function(){n.removeWMSLayerMap()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Land Use",description:"Calculate score based on city boundaries.",onScoreAdded:function(){},onSiteChange:function(){},updateScoreCallback:function(){}}],infoTools:null})}return n.prototype.addWMSLayerMap=function(n,t,i){var r=new OpenLayers.Layer.WMS(n,t,{maxExtent:this.landBounds,layers:"0",layer_type:"polygon",transparent:"true",format:"image/gif",exceptions:"application/vnd.ogc.se_inimage",maxResolution:156543.0339,srs:i},{isBaseLayer:!1});r.epsgOverride=i,r.setOpacity(.3),r.setVisibility(!1),pvMapper.map.addLayer(r),this.layerMap=r},n.prototype.removeWMSLayerMap=function(){pvMapper.map.removeLayer(this.layerMap,!1)},n}(),n.CitiesTowns=r,c=new n.CitiesTowns})(INLModules||(INLModules={}))