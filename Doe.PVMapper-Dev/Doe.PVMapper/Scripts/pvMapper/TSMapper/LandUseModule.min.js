var INLModules;(function(n){function c(){t=new OpenLayers.Layer.WMS("Protected Areas",o,{maxExtent:h,layers:"0",layer_type:"polygon",transparent:"true",format:"image/gif",exceptions:"application/vnd.ogc.se_inimage",maxResolution:156543.0339,srs:"EPSG:102113"},{isBaseLayer:!1}),t.epsgOverride="EPSG:102113",t.setOpacity(.3),t.setVisibility(!1),pvMapper.map.addLayer(t)}function l(){pvMapper.map.removeLayer(t,!1)}function u(n){var t={mapExtent:n.site.geometry.bounds.toBBOX(6,!1),geometryType:"esriGeometryEnvelope",geometry:n.site.geometry.bounds.toBBOX(6,!1),f:"json",layers:"0",tolerance:0,imageDisplay:"1, 1, 96",returnGeometry:!1},i=OpenLayers.Request.GET({url:s+"identify",proxy:"/Proxy/proxy.ashx?",params:t,callback:function(t){var u,i,r;if(t.status===200){u=new OpenLayers.Format.JSON,u.extractAttributes=!0;var f=u.read(t.responseText),e="",o=null;for(i=0;i<f.results.length;i++)r=f.results[i].attributes["Owner Name"],r!=o&&(o!=null&&(e+=", \n"),e+=r),o=r;n.popupMessage=e,n.updateValue(f.results.length)}else n.popupMessage="Connection error "+t.status,n.updateValue(Number.NaN)}})}var e=function(){function n(){var n=new pvMapper.Module({id:"FederalLandsModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){c()},deactivate:function(){l()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Protected Areas",description:"Display Federal Lands use boundaries.",onScoreAdded:function(){},onSiteChange:function(n,t){u(t)},updateScoreCallback:function(n){u(n)}}],infoTools:null})}return n}(),f,a,i,v,r,y;n.FederalLandsModule=e;var p=new n.FederalLandsModule,o="http://dingo.gapanalysisprogram.com/ArcGIS/services/PADUS/PADUS_owner/MapServer/WMSServer",s="http://dingo.gapanalysisprogram.com/ArcGIS/rest/services/PADUS/PADUS_owner/MapServer/",t,h=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34);f=function(){function n(){var n=this,t,i;this.landBounds=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34),t="http://dingo.gapanalysisprogram.com/ArcGIS/services/NAT_LC/1_NVC_class_landuse/MapServer/WMSServer",i=new pvMapper.Module({id:"CitiesTownsModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){n.addWMSLayerMap("Cities and Towns",t,"EPSG:102113")},deactivate:function(){n.removeWMSLayerMap()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Cities and Towns",description:"Calculate score based on city boundaries.",onScoreAdded:function(){},onSiteChange:function(n,t){t.popupMessage="Cities and Towns score",t.updateValue(Number.NaN)},updateScoreCallback:function(n){n.popupMessage="Cities and Towns score",n.updateValue(1)}}],infoTools:null})}return n.prototype.addWMSLayerMap=function(n,t,i){var r=new OpenLayers.Layer.WMS(n,t,{maxExtent:this.landBounds,layers:"0",layer_type:"polygon",transparent:"true",format:"image/gif",exceptions:"application/vnd.ogc.se_inimage",maxResolution:156543.0339,srs:i},{isBaseLayer:!1});r.epsgOverride=i,r.setOpacity(.3),r.setVisibility(!1),pvMapper.map.addLayer(r),this.layerMap=r},n.prototype.removeWMSLayerMap=function(){pvMapper.map.removeLayer(this.layerMap,!1)},n}(),n.CitiesTowns=f,a=new n.CitiesTowns,i=function(){function n(){var n=this,t,i;this.landBounds=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34),t="http://solarmapper.anl.gov/ArcGIS/rest/services/Solar_Mapper_SDE/MapServer/export",i=new pvMapper.Module({id:"SolarMapperModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){n.addRESTLayerMap("Solar Mapper",t)},deactivate:function(){n.removeRESTLayerMap()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Solar Mapper",description:"Calculate score based on solar radiation.",onScoreAdded:function(){},onSiteChange:function(n,t){t.popupMessage="Solar radiation score",t.updateValue(Number.NaN)},updateScoreCallback:function(n){n.popupMessage="Solar radiation score",n.updateValue(1)}}],infoTools:null})}return n.prototype.addRESTLayerMap=function(n,t){var i=new OpenLayers.Layer.ArcGIS93Rest("Some layer from Solarmapper",t,{layers:"show:0",format:"gif",srs:"3857",transparent:"true"});i.epsgOverride="3857",i.setVisibility(!1),pvMapper.map.addLayer(i)},n.prototype.removeRESTLayerMap=function(){pvMapper.map.removeLayer(this.layerMap,!1)},n.prototype.updateScoreFromLayer=function(){},n}(),n.SolarMapper=i,v=new i,r=function(){function n(){var n=this,t,i;this.landBounds=new OpenLayers.Bounds(-20037508,-20037508,20037508,20037508.34),t="http://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",i=new pvMapper.Module({id:"WorldTerrainModule",author:"Leng Vang, INL",version:"0.1.ts",activate:function(){n.addRESTLayerMap("World Terrain",t)},deactivate:function(){n.removeRESTLayerMap()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"World Terrain",description:"Calculate score based on terrain.",onScoreAdded:function(){},onSiteChange:function(n,t){this.updateScoreFromLayer(t,"")},updateScoreCallback:function(n){n.popupMessage="Terrain score",n.updateValue(1)}}],infoTools:null})}return n.prototype.addRESTLayerMap=function(n,t){var i=new OpenLayers.Layer.ArcGIS93Rest("World Terrain",t,{layers:"show:0",format:"gif",srs:"3857",transparent:"true"});i.epsgOverride="3857",i.setVisibility(!1),pvMapper.map.addLayer(i)},n.prototype.removeRESTLayerMap=function(){pvMapper.map.removeLayer(this.layerMap,!1)},n.prototype.updateScoreFromLayer=function(){},n}(),n.Worldterrain=r,y=new r})(INLModules||(INLModules={}))