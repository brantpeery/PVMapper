var INLModules;(function(){function u(){n=new OpenLayers.Layer.ArcGIS93Rest("Land Management Group",t+"export",{layers:"72",format:"gif",srs:"3857",transparent:"true"}),n.setOpacity(.3),n.epsgOverride="3857",n.setVisibility(!1),pvMapper.map.addLayer(n)}function f(){pvMapper.map.removeLayer(n,!1)}function i(n){var i={mapExtent:n.site.geometry.bounds.toBBOX(6,!1),geometryType:"esriGeometryEnvelope",geometry:n.site.geometry.bounds.toBBOX(6,!1),f:"json",layers:"72",tolerance:0,imageDisplay:"1, 1, 96"},r=OpenLayers.Request.GET({url:t+"identify",proxy:"/Proxy/proxy.ashx?",params:i,callback:function(t){t.status===200?(n.popupMessage=null,n.updateValue(t.responseText.length)):(n.popupMessage="Connection error "+t.status,n.updateValue(Number.NaN))}})}var r=function(){function n(){var n=new pvMapper.Module({id:"SolarmapperModule",author:"Scott Brown, INL",version:"0.1.ts",activate:function(){u()},deactivate:function(){f()},destroy:null,init:null,scoringTools:[{activate:null,deactivate:null,destroy:null,init:null,title:"Solarmapper tool",description:"Calculates a site score",onScoreAdded:function(){},onSiteChange:function(n,t){i(t)},updateScoreCallback:function(n){i(n)}}],infoTools:null})}return n}(),e=new r,t="http://solarmapper.anl.gov/ArcGIS/rest/services/Solar_Mapper_SDE/MapServer/",n})(INLModules||(INLModules={}))