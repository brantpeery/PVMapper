var pvMapper;(function(n){var t=function(){function t(t){var i=this;this.valueChangeEvent=new n.Event,this.invalidateEvent=new n.Event,this.siteChangeEvent=new n.Event,this.self=this,this.value="",this.site=t,this.popupMessage=null,this.site.changeEvent.addHandler(function(n){n.data=i,console.log("The score "+i.site.name+" has detected a site change pvMapper.Event.fire its own event now."),i.siteChangeEvent.fire(i,[n,i])})}return t.prototype.calculateUtility=function(n){return typeof n!="undefined"?this.updateValue(n):this.value},t.prototype.updateValue=function(n){var t=this.value;return this.value=n,this.valueChangeEvent.fire(this.self,{oldvalue:t,newvalue:n}),this.value},t.prototype.toString=function(){return this.popupMessage&&this.popupMessage.trim().length>0?this.popupMessage:this.value},t}();n.Score=t})(pvMapper||(pvMapper={}))