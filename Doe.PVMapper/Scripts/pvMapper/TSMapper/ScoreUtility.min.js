var pvMapper;(function(n){var t=function(){function n(){}return n.basicWindow={_xArgs:{},setup:function(n,t,i,r){function o(){Extras.loadExternalCSS("http://jsxgraph.uni-bayreuth.de/distrib/jsxgraph.css"),Extras.getScript("http://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.93/jsxgraphcore.js",function(){var n=r(t),o=n[0]==n[1]?1:(n[1]-n[0])/10;u=JXG.JSXGraph.initBoard("FunctionBox-body",{boundingbox:[n[0]-o,108,n[1]+o,-8],axis:!0,showCopyright:!1,showNavigation:!1}),e=u.create("functiongraph",function(n){var t=i(n,f._xArgs);return Math.max(0,Math.min(1,t))*100},{strokeWidth:3,strokeColor:"red"})})}var f=this,u,e;this._xArgs=Ext.Object.merge({},t),n.removeAll(),n.add(Ext.create("Ext.grid.property.Grid",{source:f._xArgs,listeners:{afterrender:function(){o()},edit:function(){u.update()},propertychange:function(){u.update()}}}),{xtype:"panel",layout:{align:"center",pack:"center",type:"vbox"},items:{id:"FunctionBox",xtype:"panel",layout:"fit",border:!0,width:200,height:225,padding:5}})},okhandler:function(n,t){Ext.apply(t,this._xArgs)}},n}(),i,r;n.ScoreUtilityWindows=t,i=function(){function n(){}return n.sinusoidal={windowSetup:t.basicWindow.setup,windowOk:t.basicWindow.okhandler,xBounds:function(n){return[Math.min(n.minValue,n.maxValue),Math.max(n.minValue,n.maxValue)]},fn:function(n,t){var r=t.minValue,u=t.maxValue,i=isNaN(t.target)?(u-r)/2+r:t.target,f=isNaN(t.slope)?1:t.slope,e,o;return r>u&&(e=r,r=u,u=e,f=-f),f=f*Math.max(2/(i-r),2/(u-i)),o=0,n>=u?0:n<=r?1:n<i?1/(1+Math.pow((i-r)/(n-r),2*f*(i+n-2*r))):1-1/(1+Math.pow((i-(2*i-u))/(2*i-n-(2*i-u)),2*f*(i+(2*i-n)-2*(2*i-u))))}},n.linear={windowSetup:t.basicWindow.setup,windowOk:t.basicWindow.okhandler,xBounds:function(n){return[Math.min(n.minValue,n.maxValue),Math.max(n.minValue,n.maxValue)]},fn:function(n,t){return(n-t.minValue)/(t.maxValue-t.minValue)}},n.linear3pt={windowSetup:t.basicWindow.setup,windowOk:t.basicWindow.okhandler,xBounds:function(n){return[Math.min(n.p0.x,Math.min(n.p1.x,n.p2.x)),Math.max(n.p0.x,Math.max(n.p1.x,n.p2.x))]},fn:function(n,t){return n<t.p0.x?t.p0.y:n<t.p1.x?t.p0.y+(t.p1.y-t.p0.y)*(n-t.p0.x)/(t.p1.x-t.p0.x):n<t.p2.x?t.p1.y+(t.p2.y-t.p1.y)*(n-t.p1.x)/(t.p2.x-t.p1.x):t.p2.y}},n.random={windowSetup:t.basicWindow.setup,windowOk:t.basicWindow.okhandler,fn:function(){return Math.random()}},n}(),n.UtilityFunctions=i,r=function(){function t(t){if(this.run=function(t){if(isNaN(t))return Number.NaN;var i=n.UtilityFunctions[this.functionName].fn(t,this.functionArgs);return Math.max(0,Math.min(1,i))*100},t.functionCallback){var r=t;i[r.functionName]={fn:r.functionCallback,windowSetup:r.windowSetupCallback,windowOk:r.windowOkCallback}}this.functionName=t.functionName,this.functionArgs=t.functionArgs}return t.prototype.serialize=function(){throw"Serialize not implemented yet for this object";},t.prototype.deserialize=function(){throw"Deserialize is not implemented yet for this object";},t}(),n.ScoreUtility=r})(pvMapper||(pvMapper={}))