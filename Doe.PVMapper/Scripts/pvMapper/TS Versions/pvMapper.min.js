var pvMapper;(function(n){function r(t){return this.readyEvent.addHandler(t),n}var t=n,i=n.Site,f=n.Event,u;n.readyEvent=new t.Event(!1),n.onReady=r,u=function(){function r(){this.siteAdded=new t.Event,this.siteRemoved=new t.Event,this.sites=[]}return r.prototype.getSites=function(){return this.sites},r.prototype.getSite=function(n){return this.sites[n]},r.prototype.addSite=function(t){t instanceof OpenLayers.Feature?t=new n.Site(t):t instanceof n.siteOptions||!t instanceof i&&console.log("Cannot create a site from a type : "+typeof t+" Site not created."),this.sites.push(t),this.siteAdded.fire(t,[{site:t},t])},r.prototype.removeSite=function(){},r.prototype.featureChangedHandler=function(n){if(console.log("Feature change detected by the site manager"),n.feature&&n.feature.site)try{n.feature.site.changeEvent.fire(this,n),console.log("Fired the change event for site: "+n.feature.site.name)}catch(t){console.log("An error occurred while trying to fire the feature change event for a site from the site manager"),console.error(t)}},r}()})(pvMapper||(pvMapper={}))